const list = [
        {
            "userId": "1",
            "id": "1",
            "name": "Menteur",
            "preview": "Jeu simple pouvant être joué par les petits et les grands, le Menteur vous fera passer un bon moment de rigolade !",
            "rules": ["Toutes les cartes sont distribuées.", "Chaque joueur joue chacun son tour dans le sens des aiguilles d'une montre.", "Chaque carte posée est posée face cachée et est sensé être la même que celle posée précedemment. (Même valeur)", "Lorsque l'un d'entre vous pense que le dernier joueur ayant posé sa carte ment, il dit \"Menteur\".", "Si il a juste, le menteur prend toutes les cartes, sinon il les prend toutes.", "Quand un joueur n'a plus de cartes, il est sacré gagnant.", "Tous les autres boivent"],
            "images": ["https://s2.qwant.com/thumbr/0x380/5/c/f06faf2a3ee2b828bae3f410186c9cd061be104d85f1110908e8f9ebb24211/jeu_de_cartes_par_54_ideal_poker_rami_belote_ou_bataille_pas_cher_1000.jpg?u=http%3A%2F%2Fstatic2.promobo.fr%2Fmedia%2Fcatalog%2Fproduct%2Fcache%2F1%2Fimage%2F1200x1000%2F9df78eab33525d08d6e5fb8d27136e95%2Fj%2Fe%2Fjeu_de_cartes_par_54_ideal_poker_rami_belote_ou_bataille_pas_cher_1000.jpg&q=0&b=1&p=0&a=1"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "2",
            "name": "Marmotte",
            "preview": "Un jeu de reflexion plutôt sympa à jouer lors de soirée ou vous êtes vraiment amochés. Se joue à beaucoup vu le peu de cartes à distribuer en début de partie.",
            "rules": ["Quatres cartes sont distribuées par personnes faces cachées et sont disposées en carré.", "Les joueurs regardent deux de leurs cartes et les reposent.", "Le reste des cartes non distribuées constitue la pioche.", "Une carte est posée face visible à côté de celle-ci, elle constitue ce qui sera la defausse.", "Le but est d'avoir le moins de points possibles.", "Chaque joueur joue chacun son tour dans le sens des aiguilles d'une montre.", "Il pioche une carte soit sur la pioche, soit sur la deffause.", "Il choisi alors soit de la conserver en échangeant avec une carte de son jeu, soit de la poser sur la defausse.", "Lorsqu'une carte est posée sur la defausse, les joueurs peuvent deffauser la même carte.", "Quand un joueur pense avoir moins de points que les autres, il dit \"Marmotte\" à la fin de son tour de jeu, un dernier tour doit être fait.", "A la fin de ce tour, les joueurs retournent leurs cartes, celui en ayant le moins de points gagne.", "Si le gagnant n'est pas celui qui l'a annoncé, il double ses gorgées à prendre, les autres boivent.", "Les 10 valent 0. Les têtes valent 10", "Le valet permet de rejouer.", "La dame permet d'échanger deux cartes sur le plateau.", "Le roi permet de regarder une carte sur le plateau.", "Bonne pioche autorisée (carte piochée qui peut être joué directement sur vous même)."],
            "images": ["http://jeuxdecartes1.e-monsite.com/medias/images/tamalou-2-.gif"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "3",
            "name": "Main Verte",
            "preview": "Un jeu amusant avec un semblant de stratégie pour boire malin. ",
            "rules": ["6-7 cartes sont distribuées à chacun des joueurs suivant le nombre de participants.", "Le reste des cartes non distribuées constitue la pioche.", "Une carte est posée face visible à côté de celle-ci, elle constitue ce qui sera la defausse.", "Le but est d'avoir le moins de points possibles.", "Chaque joueur joue chacun son tour dans le sens des aiguilles d'une montre.", "Il se defausse d'ABORD d'une carte ou plusieurs en envoyant soit une carte simple, un double, un triple, un carré ou une suite de même signe.", "Puis il pioche soit sur la pioche, soit sur la defausse.", "Lorsqu'une carte est posée sur la defausse, les joueurs peuvent deffauser la même carte.", "Quand un joueur pense avoir moins de points que les autres, il dit \"Main Verte\" à la fin de son tour de jeu, un dernier tour doit être fait.", "A la fin de ce tour, les joueurs comptent leurs points.", "Si le gagnant n'est pas celui qui l'a annoncé, il double ses gorgées à prendre, les autres boivent.", "Les roi rouges valent 0. Les autres têtes valent 10", "Bonne pioche autorisée (carte piochée qui peut être joué directement sur vous même)."],
            "images": ["https://melusine.eu.org/syracuse/metapost/vrac/cartes/cartes-2.png"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "4",
            "name": "Hold'em Poker Gorgée",
            "preview": "Dans ce jeu, seul vos couilles s'exprimeront, un jeu où il vaut mieux être avertie et attention au 70 gorgées qui peuvent tomber.",
            "rules": ["2 cartes sont distribuées à chacun. Et 3 cartes sont positionnées au milieu face visible", "Le jeu se déroule en 3 phases. Chacune est un tour où les joueurs font augmenter les gorgées en jeu", "A chaque phase, on pose une carte face visible sur la table.", "Le gagnant est soit le dernier en jeu, soit selon les règles de classement.", "Tous les autres boivent le nombre de gorgées qu'ils ont misé jusqu'a ce qu'il perde ou qu'il abandonne"],
            "images": ["http://www.regoledelgioco.com/wp-content/uploads/2011/03/texas_hold_em-1024x603.jpg", "https://s1.qwant.com/thumbr/0x380/2/a/65dc61db27e921dc3ddaaf9f135b6125d8a8869bb7a2c3cdd95eb83a22c89d/omaha_payout-1.jpg?u=https%3A%2F%2Fwww.p8poker.com%2FImages%2Fen%2Fomaha_payout-1.jpg&q=0&b=1&p=0&a=1"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "5",
            "name": "Pyramide",
            "preview": "Amusant en début de soirée, la pyramide saura ambiancer vos débuts de soirée difficile.",
            "rules": ["6-7 cartes sont distribuées à chacun des joueurs suivant le nombre de participants.", "Le reste des cartes non distribuées constitue la pioche.", "Une carte est posée face visible à côté de celle-ci, elle constitue ce qui sera la defausse."],
            "images": ["https://www.jeux-alcool.com/wp-content/uploads/2013/04/pyramide-732x380.jpg", "https://s1.qwant.com/thumbr/0x380/9/3/5001190295adf3cf89a599ad9a5ecbb9e2d73ad323a5f6e8c3170ea6191019/5138f09e1760582f.jpg?u=http%3A%2F%2Fimg.beevar.com%2Fupload%2F5%2F13%2F5138f09e1760582f.jpg&q=0&b=1&p=0&a=1"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "6",
            "name": "81",
            "preview": "Un jeu pour des soirées posées entre amis. Il mettra tout le monde d'accord pour sa simplicité.",
            "rules": ["On distribue 2 cartes a chaque joueur.", "Tour à tour, les joueurs mettent une carte sur la défausse et en pioche une.", "A chaque carte posée, on incrémente de la valeur de la carte le compteur commun.", "Il ne faut pas dépasser 81.", "Vous devez boire à chaque dizaine (10, 20...), celui qui dépasse 81 boit 5 gorgées.", "L'as vaut 1 ou 11.", "Le valet vaut -10", "La dame change de sens et contre les gorgées en jeu.", "Le roi passe le compteur à 70."],
            "images": ["https://melusine.eu.org/syracuse/metapost/vrac/cartes/cartes-2.png"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "7",
            "name": "Caps",
            "preview": "Jeu préféré des étudiants et c'est le cas de le dire. Des dizaines de tournois sont organisés et finisse par le vomis du perdant.",
            "rules": ["Deux bieres pleines, Trois capsules.", "Posez une capsule à l'envers sur la bière de chacun des participants.", "Tour à tour, lancez la caps pour faire tomber celle des autres.", "Celui dont la capsule tombe à le droit de contrer, si il n'y arrive pas, il boit."],
            "images": ["http://les-jeunes-et-lalcool.e-monsite.com/medias/images/1920071-1432387433677629-3326200423773758817-n.jpg"],
            "categoryId": "2",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "8",
            "name": "2Caps",
            "preview": "Jeu des soirées où il fait froid, où vous n'avez vraiment plus d'idée ou quoique ce soit d'autre à faire. Un bon jeu presque sans matériel.",
            "rules": ["Deux capsules.", "Tour à tour, lancez les deux capsules.", "Si l'une est face cachée et l'autre vible, une gorgée est stockée.", "Si les deux tombent face contre le sol, celui qui a lancé boit le nombre de gorgées stockée.", "Si les deux tombent face visible, celui qui a lancé distribue le nombre de gorgées stockée."],
            "images": ["https://biere-boutique.fr/409-tm_large_default/capsules-26-mm-rouge.jpg"],
            "categoryId": "2",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "9",
            "name": "Jeux de la hess",
            "preview": "Un jeu technique et vraiment amusant lorsque la soirée commence à être bien arrosée. Trouvez un signe et c'est partie pour de longues parties endiablées.",
            "rules": ["Chaque joueur choisi un signe et le montre aux autres.", "Le perdant ou le désigné lance le rythme des claps.", "A un moment, il doit faire son signe sur un temps, puis le signe d'un camarade sur un autre temps.", "Si la personne ne remarque pas, il boit et relance le rythme.", "Si il le remarque, il doit faire son signe puis celui d'un autre sur deux temps différents."],
            "images": ["https://i.kym-cdn.com/entries/icons/original/000/021/012/clap_pzfqtq.jpg"],
            "categoryId": "3",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "10",
            "name": "Switch",
            "preview": "Un jeu simple à prendre en main et ne fera qu'une bouchée des gens déjà un peu trop bien. A essayer, voir apprécier.",
            "rules": ["Un joueur fait un signe avec une main et dit \"Switch\".", "Si la personne ne remarque pas, il boit et relance.", "Si il remarque, il dit soit \"Bang\" qui changera le sens, soit \"Switch\" avec le même signe de main du joueur précédent.", "Lors de son tour, on peut pointer un joueur et dire \"Animals\".", "Si il dit le nom d'un animal, celui qui l'a demandé boit le nombre de gorgée qu'il y a de syllabe. Sinon, il boit 3 gorgées."],
            "images": ["https://s1.qwant.com/thumbr/700x0/b/1/138074989464a0b09931ffc26d1b7e8c31dea7678b9268503d711d79775807/592857175_640.73223.jpg?u=http%3A%2F%2Fi.amz.mshcdn.com%2FR9W_YTladVpWShfFUQ4Ja6vLZI4%3D%2F1200x630%2F2016%2F09%2F22%2Fb5%2F592857175_640.73223.jpg&q=0&b=1&p=0&a=1"],
            "categoryId": "3",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "11",
            "name": "Le Fuck",
            "preview": "Un jeu qui mettra tout le monde d'accord, choisissez une cible et detruisez la. Vous verrez, elle en redemmandera.",
            "rules": ["Un joueur fait un signe avec une main et dit \"Switch\".", "Si la personne ne remarque pas, il boit et relance.", "Si il remarque, il dit soit \"Bang\" qui changera le sens, soit \"Switch\" avec le même signe de main du joueur précédent.", "Lors de son tour, on peut pointer un joueur et dire \"Animals\".", "Si il dit le nom d'un animal, celui qui l'a demandé boit le nombre de gorgée qu'il y a de syllabe. Sinon, il boit 3 gorgées."],
            "images": ["https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/21032430_452076498519008_4323735883170994029_n.jpg?_nc_cat=100&_nc_ht=scontent-cdg2-1.xx&oh=5658b6311bd2fdb38cde31f88f1d5034&oe=5CFA6C7C"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "12",
            "name": "PMU",
            "preview": "Un jeu de chance qui se finira par un suicide du perdant, n'oubliez pas de préparer le seau de vomis.",
            "rules": ["Les 4 valets sont disposés en ligne."],
            "images": ["http://images.delcampe.com/img_large/auction/000/299/547/818_002.jpg"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-13 16:37:23",
            "updatedAt": "2019-02-13 16:37:23"
        },
        {
            "userId": "1",
            "id": "13",
            "name": "Tour du Monde",
            "preview": "Un jeu ou les plus chanceux se sentiront bien. Pour les autres, une hécatombe simple et efficace les attend.",
            "rules": ["Les cartes sont étalées en cercle autour d'une bouteille.", "A tour de role, les joueurs piochent une carte dans le cercle puis la pose sur le goulot de la bouteille en laissant dépassé deux bords consécutifs.", "Si le joueur piochant une carte laisse un trou dans le cercle, il boit. Pareil si il fait tomber les cartes du goulot.", "Les cartes de 1 à 5 font boire leur chiffre, noir : tu prends, rouge : tu donnes.", "Les 6 lancent une partie de \"J'ai déjà, je n'ai jamais\".", "Les 7, une partie de \"J'ai dans ma valise\".", "Les 8, une partie de \"Qui de vous deux\".", "Les 9, une partie de \"Ni oui, ni non\".", "Les 10, un \"Freeze\".", "Les valets, les hommes boivent.", "Les dames, les femmes boivent.", "Les roi, une partie de \"Roi des pouces\"."],
            "images": ["https://www.jeux-alcool.com/wp-content/uploads/2014/07/Palmito-732x380.jpg"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-14 18:01:39",
            "updatedAt": "2019-02-14 18:01:39"
        },
        {
            "userId": "1",
            "id": "14",
            "name": "8 américain",
            "preview": "Un jeu de cartes tirés du célèbre UNO qui est reproduit avec des cartes classiques, de bonnes parties vous attendent. ",
            "rules": ["7 cartes sont distribuées par personnes, le reste constitue le talon.", "Le but est de ne plus avoir de cartes.", "Chaque carte posé doit soit être de la même forme, soit de la même valeur que la précédente.", "Les 8 se posent n'importe quand et permet de choisir la forme.", "Les valets font sauter le tour du joueur suivant.", "Les as font changer le sens.", "Les 2 font piocher 2 cartes au suivant."],
            "images": ["https://s2.qwant.com/thumbr/0x380/7/9/f9e5059858af3a08922667c14eeefc553ca05db0c198d72c8f4f76beb4d649/Play-Crazy-Eights-Step-11.jpg?u=https%3A%2F%2Fwww.wikihow.com%2Fimages%2F8%2F80%2FPlay-Crazy-Eights-Step-11.jpg&q=0&b=1&p=0&a=1"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-14 22:03:17",
            "updatedAt": "2019-02-14 22:03:17"
        },
        {
            "userId": "1",
            "id": "15",
            "name": "Beer Pong",
            "preview": "Un jeu fait pour boire des grosse dose tout en s'amusant. Ce jeu à déjà été testé et approuvé dans plusieurs pays ce qui en fait un jeu à connaitre.",
            "rules": ["img.img"],
            "images": ["https://thenypost.files.wordpress.com/2017/02/beerpong.jpg?quality=90&strip=all&w=1286"],
            "categoryId": "4",
            "visible": "1",
            "createdAt": "2019-02-15 11:21:18",
            "updatedAt": "2019-02-15 11:21:18"
        },
        {
            "userId": "1",
            "id": "16",
            "name": "Bus",
            "preview": "Un jeu à faire après une partie de PMU, il donnera au perdant une bonne le\u00e7on.",
            "rules": ["5 cartes sont alignées sauf une qui est retournée.", "Le joueur qui subit le Bus doit dire \"Plus ou Moins\" que la carte en dessous.", "Il avance une carte après l'autre.", "S'il perd, il se voit à nouveau prendre la sentance sur les cartes du tour précédent.", "Quand le joueur perd, il boit le nombre de carte(s) découverte(s)", "En cas d'égalité, il boit puis passe à la carte suivante.", "Si l'as tombe, il choisit si c'est la plus petite carte ou la plus grande. Le choix du joueur restera le même tout le long du suplice.", "Le joueur doit deviner la dernière carte sans en avoir connaissance."],
            "images": ["https://www.jeux-alcool.com/wp-content/uploads/2014/07/rougeounoir-732x380.jpg"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-15 16:03:09",
            "updatedAt": "2019-02-15 16:03:09"
        },
        {
            "userId": "1",
            "id": "17",
            "name": "Le 21 ",
            "preview": "Un jeu joué par les gogoles, inventé par un gogole.",
            "rules": ["A tour de rôle, les joueurs disent entre 1 et 3 nombres.", "Dire 2 nombre provoque un changement de sens.", "Vous ne devez jamais répété le dernier nombre dit sous peine d'une gorgée.", "Celui arrivant à 21 bois et ajoute une règle."],
            "images": ["https://s2.qwant.com/thumbr/0x380/f/2/6fcaa64bd770a5b171bbd91c0f543c74a5e659a8fa0a807d07d2a8936216e1/21plus.jpg?u=http%3A%2F%2Fwww2.uwstout.edu%2Fcontent%2Fhousing%2FSmart%26HealthyWeb%2Fimages%2F21plus%2F21plus.jpg&q=0&b=1&p=0&a=1"],
            "categoryId": "3",
            "visible": "1",
            "createdAt": "2019-02-15 00:00:00",
            "updatedAt": "2019-02-15 00:00:00"
        },
        {
            "userId": "1",
            "id": "18",
            "name": "Picard",
            "preview": "Similaire à la Marmotte mais des règles différentes",
            "rules": ["Les joueurs jouent chacun leur tour.", "Ils ont 4 cartes devant eux dont 2 inconnus.", "Le joueur qui joue pioche une carte.", "Il décide ensuite, soit de la défausser, soit de la remplacer par l'une des quatres cartes présentes devant lui.", "Le joueur qui pense avoir 10 points ou moins dis \"STOP\".", "Il reste alors un tour.", "."],
            "images": ["https://s2.qwant.com/thumbr/0x380/f/7/0fa17c2b9d6bbe7a0bcb11d88d3e4cf8babd88cccc48e5b1329f751ab9fc57/mini-jeu-cartes-p151184~1.jpg?u=http%3A%2F%2Fwww.mega-fetes.fr%2Fimages-produits%2Fmini-jeu-cartes-p151184%7E1.jpg&q=0&b=1&p=0&a=1"],
            "categoryId": "1",
            "visible": "1",
            "createdAt": "2019-02-15 21:51:06",
            "updatedAt": "2019-02-15 21:51:06"
        }
    ]
;


const Sequelize = require('sequelize');
const sequelize = new Sequelize('mysql://root:@127.0.0.1:3306/alcoolodico');
sequelize.authenticate();

const Game = sequelize.define('games', {
    name: {type: Sequelize.STRING},
    preview: {type: Sequelize.TEXT},
    rules: {type: Sequelize.JSON},
    images: {type: Sequelize.JSON},
    visible: {type: Sequelize.BOOLEAN},
});
const User = sequelize.define('users', {
    pseudo: {type: Sequelize.STRING},
    firstname: {type: Sequelize.STRING},
    lastname: {type: Sequelize.STRING},
    mail: {type: Sequelize.STRING},
    password: {type: Sequelize.STRING},
    admin: {type: Sequelize.BOOLEAN},
});
const Category = sequelize.define('categories', {
    name: {type: Sequelize.STRING},
});
const Comment = sequelize.define('comments', {
    rate: {type: Sequelize.INTEGER},
    review: {type: Sequelize.TEXT},
});

Game.belongsTo(Category);
Game.belongsTo(User);
Comment.belongsTo(User);
Game.hasMany(Comment, {as: 'coms'});

User.sync({force: true}).then(()=>
    {
        User.findOrCreate({
            where: {pseudo: 'admin', admin: true, id: 1},
            defaults: {firstname: 'Max', lastname: 'Lerebourg', mail: 'maxlerebourg@gmail.com', password: 'password'}
        })
    }
);
Category.sync({force: true}).then(
    () => {
        for (var jeu of ['Cartes', 'Caps','Hess','Balles']) {
            Category.findOrCreate({
                where: {name: jeu}
            })
        }
    }
);
Comment.sync({force: true}).then(() => {
    Comment.findOrCreate({where: {gameId: 1, userId: 1}, defaults: {review: 'J\'ai adoré ce jeu, un régal', rate: 5}})
});
Game.sync({force: true}).then(() => {
    for (var jeu of list) {
        Game.findOrCreate({
            where: {id: jeu.id},
            defaults: {
                name: jeu.name,
                preview: jeu.preview,
                rules: jeu.rules,
                images: jeu.images,
                visible: true,
                userId: 1,
                categoryId: jeu.categoryId,
            }
        })
    }
})


